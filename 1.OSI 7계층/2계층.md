[<<메인으로](https://github.com/AtomicLiquors/Network_Wiki_Chb)

&nbsp;  
&nbsp;  
# **2계층**
## **특징**
### "주소 체계 존재" : 물리적 주소인 **MAC 주소**

 
&nbsp;
 
 
&nbsp;
 

## **MAC 주소**

- 48bit의 16진수 12자리.
    - 앞쪽 24비트 자리는 OUI(*Organizational Unique Identifier*)로,   
    IEEE에서 제조업체를 식별하는 코드다.

    - 뒤쪽 24비트 자리는 제조사가 자체적으로 할당하는 코드다.
-  전역적으로 관리되는 주소(*UAA, Universally Administered Address*),  
    지역적으로 관리되는 주소(*LAA, Locally Administered Address*) 

- 정확한 전기 신호 전달보다 정확한 주소로 보내는 데 중점을 둔다.  
데이터 처리 전 출발지, 도착지를 확인하고 검사를 수행한다.  
(내게 보낸 게 맞나? 내가 처리할 게 맞나?)

- 한꺼번에 이루어지는 여러 통신을 구분하는 기능.  
데이터 에러를 탐지하거나 수정할 수 있다.  
(에러 수정에 관여하는 까닭은, 과거에는 1계층의 신뢰성이 떨어졌기 때문.)

- 네트워크 구성 요소마다 주소가 상이하며,  
변경이 불가능하도록 하드웨어에 고정된 채로 출하된다.  
(BIA : *Burned-In Address*)
<br><br>
장비를 만들 때마다 제조업체 간 MAC 주소 중복을 피하기 위하여,  
국제기구인 IEEE가 관리하는 제조사 코드에 의하여   
제조업체별로 할당할 수 있는 MAC주소 범위가 제한되어 있다.

다만 MAC주소도 결국 메모리에 적재되어 구동되기 때문에  
임의로 MAC주소를 변경하는 것은 가능하다.  
(보안상 불허하는 운영체제도 있음)


 
&nbsp;
 

 
&nbsp;
 
## **관련 장비**
### **랜 카드** 
1계층에서 운용 가능하게끔 전기 형태로 변환하는 역할. 
 
&nbsp;
 
### **NIC : 네트워크 인터페이스 카드**
네트워크 카드, 네트워크 인터페이스 컨트롤러 등 이름이 많다. 

컴퓨터를 네트워크에 연결하기 위한 하드웨어 장치. 

일반 PC의 경우 NIC가 메인보드에 기본 장착된다.   
서버도 마찬가지지만 필요에 따라 추가로 장착한다.  

(최근에는 서버 보드에 10GT NIC가 기본 장착되는 추세)
 
&nbsp;
 
### NIC의 주요 역할
- 직렬화 *Serialization* 
전기적 신호 ↔ 데이터 신호 간 변환 작업을 '직렬화'라고 한다.

- MAC주소 보유  

- 흐름 제어 *Flow Control*  
다양한 통신이 하나의 채널을 이용하는 패킷 기반 네트워크.  
이미 통신 중인 데이터 처리 때문에 새 데이터를 받지 못할 수 있다.  

이 때, 데이터 유실 방지를 위해 통신 중지를 요청하는 작업이 '흐름 제어'다.

&nbsp;
 
  
 &nbsp;
  
 
## **관련 장비**
### **스위치**
네트워크에서 여러 장비를 연결하고, 통신을 중재하는 역할.  

패킷을 전송할 때 상호 간섭하여 네트워크 성능이 저하되는 문제를 해소하였다.  
여러 단말이 한꺼번에 통신할 수 있게 되었고,   
충돌이 발생하거나 어쩔 수 없이 대기해야 하는 문제가 해결되었다. 

 
&nbsp;
 
### **스위치와 허브**
스위치는 1계층의 허브와 유사하다.  
허브와는 내부 동작 방식이 엄연히 다르지만,  
둘 다 통틀어서 '허브'라고 부르거나  
구분해서 '스위칭 허브'라고도 한다.

|장비|특징|
|--|--|
|허브|단순히 전기 신호를 재생성하고, <br> 출발지만 아니면 모든 포트에 전기 신호를 전송한다.|
|스위치|MAC 주소를 이해할 수 있다.   <br> MAC 주소 정보를 바탕으로 통신이 필요한 포트만 사용하며,  <br> 네트워크 전체의 불필요한 처리과정을 줄여준다.

 -> 이런 특성 덕분에 스위치의 등장은 이더넷 네트워크의 응답 성능이 향상되어 널리 보급되는 계기가 되었다.

 
&nbsp;
 
### **스위치의 기능**
**어드레스 러닝 : 주소 습득 기능**  
MAC 주소를 저장한 테이블을 만들고 유지하는 과정을 어드레스 러닝이라고 한다.  

패킷이 특정 포트에 들어오면 테이블에다  
출발지 MAC 주소 + 포트 번호를 기록한다.  

[*] 사전에 정의된 MAC 주소 테이블을 이용하는 방법도 있다.

 
&nbsp;
 

**필터링 기능 / 포워딩 기능**  
- 습득한 주소를 바탕으로 포트를 필터링한다. 
- 정확한 포트로 전달해 준다.

MAC 주소 테이블의 정보와 일치하는지 판단한 뒤 패킷을 전달하므로  
'필터링'이라고 표현한다.   

통신이 다른 포트에 영향을 끼치지 않으므로   
다른 포트에서 기존 통신작업으로부터 독립적으로 동작할 수 있다.

[*] 이 두 동작은 일반적인 유니캐스트에 대해서만 수행하며,   
BUM 트래픽은 MAC 주소 테이블에 주소 정보를 남기지 않으므로  
스위치는 플러딩 동작한다.

&nbsp;
 



 
&nbsp;
 


### **스위치의 장점**
-  보안성 :   
스위치를 사용하면 필요한 곳에만 패킷을 전달하므로,  
주변 통신을 악의적으로 가로채기 힘들다.

 
&nbsp;
### **플러딩**
스위치가 모든 포트로 패킷을 흘리는 것.

스위치는 부팅하면 아무런 네트워크 관련 정보를 갖지 않고 있다.   
그래서 네트워크 통신을 중재하는 본연의 역할을 하지 못하고,  
허브처럼 모든 포트로 패킷을 흘린다.  

LAN은 크기도 작고, 
도착지 NIC에서 알아서 패킷을 버리기 때문에  
플러딩이 네트워크에 큰 영향을 미치지 않는다.



 
&nbsp;
 




 
&nbsp;
  
&nbsp;
  
## **관련 개념**
- [MTU]
(인캡슐레이션-디캡슐레이션.md)  
- 무차별 모드
- MAC 주소를 여러 개 갖는 경우  
- 에이징 타임 *Aging Time* :   
스위치에서 ARP와 MAC 테이블이 지워지지 않고 보존되는 시간.

